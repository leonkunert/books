/*! angular-kendo 1.0.1 2014-04-27 */
!function(a,b){b(["jquery","angular","kendo"],a)}(function(a,b,c){"use strict";function d(a){var b=l;l=function(a){return a()};try{return a()}finally{l=b}}function e(a,b,c,d){if(c[d]){var e=k(c[d]).assign;if(!e)throw new Error(d+" attribute used but expression in it is not assignable: "+c[d]);e(b,a)}}function f(b){return b=a(b),c.widgetInstance(b,c.ui)||c.widgetInstance(b,c.mobile.ui)||c.widgetInstance(b,c.dataviz.ui)}function g(a,b,c,d){a.bind.call(a,b,c,d);var e=a._events[b];e.unshift(e.pop())}function h(a){/^\$(digest|apply)$/.test(a.$root.$$phase)||a.$digest()}function i(b,c){b.$destroy(),c&&a(c).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}function j(d,e,f){if(a.isArray(d))return b.forEach(d,function(a){j(a,e,f)});if("string"==typeof d){for(var g=d.split("."),h=c;h&&g.length>0;)h=h[g.shift()];if(!h)return;d=h}var i=d.prototype[e];d.prototype[e]=function(){var a=this,b=arguments;return f.apply({self:a,next:function(){return i.apply(a,arguments.length>0?arguments:b)}},b)}}var k,l,m,n,o=c.attr("uid"),p=b.module("kendo.directives",[]),q=function u(){return u},r={dataSource:function(){var a={TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN"},b=function(a,b){return"$PLAIN"==b?a:c.data[b].create(a)};return function(c,d,e,g){var h=a[g]||"DataSource",i=b(c.$eval(e.kDataSource),h);return d.data("$kendoDataSource",i),c.$watch(e.kDataSource,function(a,c){if(a!==c){var e=b(a,h);d.data("$kendoDataSource",e);var g=f(d);g&&"function"==typeof g.setDataSource&&g.setDataSource(e)}}),i}}(),widget:function(){var c={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0};return function(d,f,g,h){var i=h.replace(/^kendo/,""),j=b.extend({},d.$eval(g.kOptions));a.each(g,function(a,e){if(!c[a]){var f=a.match(/^k(On)?([A-Z].*)/);if(f){var g=f[2].charAt(0).toLowerCase()+f[2].slice(1);f[1]?j[g]=e:(j[g]=b.copy(d.$eval(e)),void 0===j[g]&&e.match(/^\w*$/)&&m.warn(h+"'s "+a+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+e+"'?"))}}}),j.dataSource=f.inheritedData("$kendoDataSource")||j.dataSource,g.kDataSource&&(j.dataSource=r.dataSource(d,f,g,i)),j.$angular=!0;var k=a(f)[h];if(!k)return console.error("Could not find: "+h),null;var l=k.call(f,n=j).data(h);return e(l,d,g,h),d.$emit("kendoWidgetCreated",l),l}}()};p.factory("directiveFactory",["$timeout","$parse","$compile","$log",function(b,c,d,e){l=b,k=c,q=d,m=e;var f=0,i=function(b){return{restrict:"ACE",require:["?ngModel","^?form"],scope:!1,transclude:!0,controller:["$scope","$attrs","$element","$transclude",function(a,b,c,d){d(a,function(a){c.append(a)})}],link:function(c,d,e,i){var j=i[0],n=i[1];a(d)[0].removeAttribute("data-"+b.replace(/([A-Z])/g,"-$1")),++f,l(function(){function i(){function a(){return b?d.val():p.value()}var b=/^(input|select|textarea)$/i.test(d[0].tagName);s&&s(),s=c.$on("$destroy",function(){p&&(p.destroy(),p=null)});a:if(j){if(!p.value)break a;j.$render=function(){p.value(j.$viewValue)};var f;b&&d.on("change",function(){f=!0});var i=function(b){return function(){f=!1,l(function(){if(!f){if(b&&n)var c=n.$pristine;j.$setViewValue(a()),b&&(j.$setPristine(),c&&n.$setPristine())}})}};g(p,"change",i(!1)),g(p,"dataBound",i(!0));var o=a();o!=j.$viewValue&&(j.$isEmpty(j.$viewValue)?null!=o&&""!=o&&o!=j.$viewValue&&j.$setViewValue(o):p.value(j.$viewValue)),j.$setPristine()}a:if(e.kNgModel){if("function"!=typeof p.value){m.warn("k-ng-model specified on a widget that does not have the value() method: "+p.options.name);break a}var q=k(e.kNgModel),r=q.assign,t=null==p.value()||""==p.value();q(c)===p.value()||t?t&&(p.value(q(c)),p.trigger("change")):r(c,p.value()),c.$watch(e.kNgModel,function(a,b){a!==b&&p.value(a)}),p.bind("change",function(){r(c,p.value()),h(c)})}}if(e.kRebind){var o=a(d)[0].cloneNode(!0);c.$watch(e.kRebind,function(b,e){if(b!==e)try{var f=a(p.wrapper)[0],g=a(p.element)[0];if(p&&(p.destroy(),p=null),f&&g){f.parentNode.replaceChild(g,f);var h=o.cloneNode(!0);a(d).replaceWith(h),d=a(h)}q(d)(c)}catch(i){console.error(i),console.error(i.stack)}},!0)}var p=r.widget(c,d,e,b);i();var s=null;!function(){function b(){f.disconnect()}function c(){f.observe(a(d)[0],{attributes:!0})}if(window.MutationObserver&&p.wrapper){var e=[].slice.call(a(d)[0].classList),f=new MutationObserver(function(d){b(),p&&(d.forEach(function(b){var c=a(p.wrapper)[0];switch(b.attributeName){case"class":var d=[].slice.call(b.target.classList);d.forEach(function(a){e.indexOf(a)<0&&c.classList.add(a)}),e.forEach(function(a){d.indexOf(a)<0&&c.classList.remove(a)}),e=d;break;case"disabled":"function"==typeof p.enable&&p.enable(!a(b.target).attr("disabled"));break;case"readonly":"function"==typeof p.readonly&&p.readonly(!!a(b.target).attr("readonly"))}}),c())});c(),g(p,"destroy",b)}}(),--f,0==f&&c.$emit("kendoRendered")})}}};return{create:i}}]),function(){function a(a){return function(c){b.forEach(c,function(b,c){if(c.match(/^[A-Z]/)&&"Widget"!==c){var d="kendo"+a+c;p.directive(d,["directiveFactory",function(a){return a.create(d)}])}})}}b.forEach([c.ui,c.dataviz&&c.dataviz.ui],a("")),b.forEach([c.mobile&&c.mobile.ui],a("Mobile"))}();var s="$angular_beforeCreate",t="$angular_afterCreate";j("ui.Widget","init",function(a,b){!b&&n&&(b=n),n=null;var c=this.self;b&&b.$angular?(c.$angular_beforeCreate(a,b),this.next(),c.$angular_afterCreate()):this.next()}),j("ui.Widget",s,function(c,d){var e=this.self;if(d&&!a.isArray(d))for(var f=b.element(c).scope(),g=e.events.length;--g>=0;){var h=e.events[g],i=d[h];i&&"string"==typeof i&&(d[h]=e.$angular_makeEventHandler(h,f,i))}}),j("ui.Widget",t,function(){}),j("ui.Widget","$angular_makeEventHandler",function(a,b,c){return c=k(c),function(a){/^\$(apply|digest)$/.test(b.$root.$$phase)?c(b,{kendoEvent:a}):b.$apply(function(){c(b,{kendoEvent:a})})}}),j(["ui.Grid","ui.ListView"],"$angular_makeEventHandler",function(c,d,e){return"change"!=c?this.next():(e=k(e),function(c){var f,g,h,i,j,k,l=c.sender,m=l.options,n=l.dataSource,p={kendoEvent:c};b.isString(m.selectable)&&(f=-1!==m.selectable.indexOf("cell"),g=-1!==m.selectable.indexOf("multiple")),h=p.selected=this.select(),i=p.data=[],j=p.columns=[];for(var q=0;q<h.length;q++){var r=f?h[q].parentNode:h[q],s=a(r).attr(o),t=n.getByUid(s);f?(b.element.inArray(t,i)<0&&i.push(t),k=b.element(h[q]).index(),b.element.inArray(k,j)<0&&j.push(k)):i.push(t)}g||(p.data=i[0],p.selected=h[0]),d.$apply(function(){e(d,p)})})}),j(["ui.PanelBar","ui.TabStrip","ui.Splitter"],t,function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&g(a,"contentLoad",function(a){a.contentElement||a.pane;q(a.contentElement)(c),h(c)})}),j("ui.Draggable","_start",function(){this.next();var a=this.self;if(a.hint){var c=b.element(a.currentTarget).scope();c&&(q(a.hint)(c),h(c))}}),j("ui.Grid",s,function(d,e){if(this.next(),e.columns){var f=a.extend({},c.Template,e.templateSettings);b.forEach(e.columns,function(a){!a.field||a.template||a.format||a.values||(a.template="<span ng-bind='"+c.expr(a.field,"dataItem")+"'>#: "+c.expr(a.field,f.paramName)+"#</span>")})}}),j(["ui.Grid","ui.ListView","mobile.ui.ListView","ui.TreeView"],s,function(c,d){this.next();var e=b.element(c).scope();if(e){var f=this.self,g=f.options.name,i=d.dataBound;d.dataBound=function(b){var c=b.sender,d=c.dataSource,f=!1;c.items().each(function(){var b="TreeView"==g?a(this).find("div").first():a(this);if(!b.hasClass("ng-scope")){var c=a(this).attr(o),h=d.getByUid(c),i=e.$new();i.dataItem=h,q(b)(i),f=!0}});try{if(i)return i.apply(this,arguments)}finally{f&&h(e)}}}}),j("ui.DropDownList",s,function(a,c){this.next();var d=b.element(a).scope();if(d){var e=(this.self,c.dataBound);c.dataBound=function(a){var b=a.sender;b.ul.find("li").each(function(a){var c=d.$new();c.dataItem=b.dataItem(a),q(this)(c)});try{if(e)return e.apply(this,arguments)}finally{h(d)}};var f=c.dataBinding;c.dataBinding=function(a){var c=a.sender;return c.ul.find("li").each(function(){var a=b.element(this).scope();a&&a!==d&&i(a)}),f?f.apply(this,arguments):void 0}}}),j("ui.DropDownList","_textAccessor",function(a){var c=this.self,d=b.element(c.element).scope();if(d&&void 0!==a){var e=b.element(c.span).scope();e&&e!==d&&i(e)}var f=this.next();if(d&&void 0!==a){var e=d.$new();e.dataItem=a,q(c.span)(e),h(e)}return f}),j(["ui.AutoComplete","ui.ComboBox"],s,function(c,d){this.next();var e=b.element(c).scope();if(e){var f=(this.self,d.dataBound);d.dataBound=function(b){var c=b.sender,d=(c.dataSource,!1);a(c.items()).each(function(){var b=a(this);if(!b.hasClass("ng-scope")){var f=c.dataItem(b.index()),g=e.$new();g.dataItem=f,q(b)(g),d=!0}});try{if(f)return f.apply(this,arguments)}finally{d&&h(e)}}}}),j(["ui.AutoComplete","ui.ComboBox"],t,function(){this.next(),this.self.bind("dataBinding",function(c){a(c.sender.items()).each(function(){var a=b.element(this).scope();a&&i(a,this)})})}),j(["ui.Grid","ui.ListView","mobile.ui.ListView"],t,function(){this.next();var c=this.self,d=b.element(c.element).scope();d&&(c.bind("itemChange",function(c){var e=c.sender.dataSource,f=c.item[0],g=c.item;a.isArray(g)&&(g=g[0]),g=a(g);var i=b.element(g).scope();i&&i!==d||(i=d.$new()),i.dataItem=e.getByUid(g.attr(o)),q(f)(i),h(i)}),c.bind("dataBinding",function(c){c.sender.items().each(function(){var c=a(this);if(c.attr(o)){var e=b.element(this).scope();e&&e!==d&&i(e,c)}})}))}),j("ui.Grid","_toolbar",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.wrapper.find(".k-grid-toolbar").first())(c),h(c))}),j("ui.Grid","_thead",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.thead)(c),h(c))}),j("ui.editor.Toolbar","render",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.element)(c),h(c))}),j("ui.Grid",t,function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&a.options.detailTemplate&&g(a,"detailInit",function(a){var b=c.$new();b.dataItem=a.data,q(a.detailCell)(b),h(b)})}),j("ui.Grid","cancelRow",function(){var a=this.self,c=b.element(a.element).scope(),d=a._editContainer;if(d){var e=a._modelForContainer(d),f=e.uid,g=b.element(d).scope();g!==c&&i(g,d)}if(this.next(),f){var j=a.items().filter("["+o+"="+f+"]"),k=c.$new();k.dataItem=e,q(j)(k),h(c)}}),j("ui.Editable","refresh",function(){this.next();var a=this.self,c=a.options.model,e=b.element(a.element).scope();e&&c&&(a.$angular_scope&&i(a.$angular_scope,a.element),e=a.$angular_scope=e.$new(),e.dataItem=c,d(function(){q(a.element)(e),h(e)}),a.element.find(":kendoFocusable").eq(0).focus())}),j("ui.Editable","destroy",function(){var a=this.self;a.$angular_scope&&(i(a.$angular_scope,a.element),a.$angular_scope=null),this.next()}),j("ui.Window","content",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.element)(c),h(c))}),j("mobile.ui.ListView","destroy",function(){var a=this.self;a._itemBinder&&a._itemBinder.dataSource&&this.self._itemBinder._unbindDataSource(),this.next()}),j("mobile.ui.ButtonGroup","value",function(a){var b=this.self;return null!=a&&(b.select(b.element.children("li.km-button").eq(a)),b.trigger("change"),b.trigger("select",{index:b.selectedIndex})),b.selectedIndex}),j("mobile.ui.ButtonGroup","_select",function(){this.next(),this.self.trigger("change")}),j("mobile.ui.ScrollView","value",function(a){var b=this.self;return null!=a&&b.scrollTo(a),b.page})},"function"==typeof define&&define.amd?define:function(a,b){b(jQuery,angular,kendo)});